import{b as h,C as u,N as w}from"./vendor-CBRnrolm.js";import{H as p,a as o}from"./constants-Bb3Q49nK.js";self.__WB_DISABLE_DEV_LOGS=!0;const n=self.__WB_MANIFEST,r="sw-cache",m=[".webp",".ttf",".woff",".woff2"],d=e=>p.test(e),_=e=>m.some(t=>e.toLowerCase().endsWith(t.toLowerCase()));self.addEventListener("install",e=>{self.skipWaiting(),e.waitUntil((async()=>{const t=await caches.open(r);if(!t)return;const s=["/",...(n==null?void 0:n.map(({url:a})=>a))??[]];await t.addAll(s.map(a=>a))})().catch(console.error))});self.addEventListener("activate",e=>{e.waitUntil((async()=>{const t=await caches.keys();await Promise.all(t.filter(s=>s!==r).map(s=>caches.delete(s)))})().catch(console.error))});const F=e=>_(e.href)?!0:d(e.href)?((async()=>{const t=e.href.split(o)[0],s=e.href.split(o)[1],a=e.href.split("."),l=a[a.length-1],c=await caches.open(r);if(!c)return;const f=await c.keys();await Promise.all(f.filter(i=>i.url.startsWith(t)&&i.url.endsWith(l)&&s!==i.url.split(o)[1]).map(i=>c.delete(i)))})().catch(console.error),!0):!1;h(({url:e})=>F(e),new u({cacheName:r}));h(()=>!0,new w({cacheName:r}));
